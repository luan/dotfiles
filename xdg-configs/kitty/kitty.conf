# vim:fileencoding=utf-8:foldmethod=marker

# Fonts {{{
font_family      Iosevka Nerd Font Mono Light
bold_font        Iosevka Nerd Font Mono SemiBold
italic_font      Iosevka Nerd Font Mono Light Italic
bold_italic_font Iosevka Nerd Font Mono SemiBold Italic
font_size 13
font_thicken no
modify_font underline_position 2
modify_font underline_thickness 150%
modify_font cell_height 130%

# Symbol maps for Nerd Font icons
# symbol_map U+E5FA-U+E62B Iosevka Nerd Font Mono
# symbol_map U+E700-U+E7C5 Iosevka Nerd Font Mono
# symbol_map U+F000-U+F2E0 Iosevka Nerd Font Mono
# symbol_map U+E200-U+E2A9 Iosevka Nerd Font Mono
# symbol_map U+F500-U+FD46 Iosevka Nerd Font Mono
# symbol_map U+E300-U+E3EB Iosevka Nerd Font Mono
# symbol_map U+F400-U+F4A8,U+2665,U+26A1,U+F27C Iosevka Nerd Font Mono
# symbol_map U+E0A3,U+E0B4-U+E0C8,U+E0CC-U+E0D2,U+E0D4 Iosevka Nerd Font Mono
# symbol_map U+23FB-U+23FE,U+2b58 Iosevka Nerd Font Mono
# symbol_map U+F300-U+F313 Iosevka Nerd Font Mono
# }}}

# Misc {{{
scrollback_lines 10000000
allow_remote_control yes
# }}}

# Appearance {{{
mouse_hide_wait 2.0
background_opacity 1.0
box_drawing_scale 0.001, 0.5, 1.5, 2
# }}}

# Window {{{
hide_window_decorations yes
enabled_layouts splits,stack
window_border_width 1px
draw_minimal_borders yes
window_padding_height 0
window_padding_width 0
confirm_os_window_close 1
# }}}

# Tab bar {{{
# Tab bar options
tab_bar_edge               bottom
tab_bar_margin_width       5.0
tab_bar_margin_height      7.5 7.5
tab_bar_style              custom
tab_bar_align              center
tab_bar_min_tabs           1
tab_title_template         "󰨸 {index} {title}"
active_tab_title_template  "󰅍 {index} {title}"
active_tab_font_style      normal

# tab_bar_margin_width      9
# tab_bar_margin_height     3 2
# tab_bar_style             separator
# tab_bar_min_tabs          1
# tab_separator             "  "
# tab_title_template        "{fmt.fg._5c6370}{fmt.bg.default}{fmt.fg._abb2bf}{fmt.bg._5c6370} {title.split()[0]} {fmt.fg._5c6370}{fmt.bg.default} "
# active_tab_title_template "{fmt.fg._e5c07b}{fmt.bg.default}{fmt.fg._282c34}{fmt.bg._e5c07b} {title.split()[0]} {fmt.fg._e5c07b}{fmt.bg.default} "

# tab_title_template          {title}{' :{}:'.format(num_windows) if num_windows > 1 else ''}

# tab_bar_margin_width 0
# tab_bar_margin_height 0 2
# tab_bar_align left
# tab_title_max_length 25
# tab_activity_symbol "●"
# tab_switch_strategy previous
# }}}

# macOS {{{
macos_option_as_alt left
# }}}

# Keybindings {{{
clear_all_shortcuts yes
kitty_mod ctrl+shift

# Tmux-style shortcuts
# map ctrl+space>v launch --location=vsplit --cwd=current
map ctrl+space>v new_window_with_cwd
map ctrl+space>minus launch --location=hsplit --cwd=current
map ctrl+space>x close_window
map ctrl+space>r load_config_file
map ctrl+space>c launch --location=hsplit --type=tab --cwd=current
map ctrl+space>z toggle_layout stack

# Pane navigation
map alt+shift+h neighboring_window left
map alt+shift+j neighboring_window down  
map alt+shift+k neighboring_window up
map alt+shift+l neighboring_window right
map alt+shift+o next_window

# Tab navigation
map alt+shift+n next_tab
map alt+shift+p previous_tab
map alt+shift+tab goto_tab -1

# Pane resizing
map ctrl+shift+h resize_window narrower
map ctrl+shift+j resize_window shorter
map ctrl+shift+k resize_window taller
map ctrl+shift+l resize_window wider

# Copy mode and clipboard
map ctrl+alt+left_bracket show_scrollback
map ctrl+alt+right_bracket paste_from_clipboard

# Additional tmux bindings
map alt+shift+backslash toggle_layout stack
map alt+shift+c clear_terminal clear active
map alt+shift+z toggle_maximized
map alt+shift+s launch --type=tab --cwd=current
map alt+shift+x close_window_with_confirmation
map alt+shift+r load_config_file

# Standard shortcuts
map super+c copy_to_clipboard
map super+v paste_from_clipboard
map super+n new_os_window
map super+w close_window
map super+q quit
map super+shift+w close_os_window
map super+minus decrease_font_size
map super+equal increase_font_size
map super+plus increase_font_size
map super+0 reset_font_size
map super+shift+enter new_window
map super+shift+d close_window
map super+t new_tab
map super+shift+t new_tab_with_cwd
map super+1 goto_tab 1
map super+2 goto_tab 2
map super+3 goto_tab 3
map super+4 goto_tab 4
map super+5 goto_tab 5
map super+6 goto_tab 6
map super+7 goto_tab 7
map super+8 goto_tab 8
map super+9 goto_tab 9
map super+comma edit_config_file
map super+shift+comma load_config_file
map super+alt+i show_kitty_env_vars
map super+k clear_terminal clear active

# map f1 launch --stdin-source=@screen_scrollback --stdin-add-formatting less +G -R
map f1 save_as_session --use-foreground-process --relocatable
map f7>1 goto_session /tmp/1.kitty-session
map f7>2 goto_session /tmp/2.kitty-session
map f7>3 goto_session /tmp/3.kitty-session
map super+shift+s goto_session
# }}}

# BEGIN_KITTY_THEME
# Tokyo Night
include current-theme.conf
# END_KITTY_THEME
